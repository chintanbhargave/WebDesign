<!Doctype html>
<html lang="html">

<head>
	<title>Feedback</title>
	<style>
		label {
			float: left;
			width: 150px;
		}

		#container {
			width: 700px;
			margin: auto;
			background-color: beige;
		}

		main {
			padding: 50px;
		}
	</style>
</head>

<body>
	<div id="container">

		<main>
			<h2>Feeback</h2>
			<h3>Love something? Hate something? Let us know!</h3>
			Note : Fields marked with an asterisk(*) are mandatory
			<br><br>
			<form method="POST" onsubmit=" return checksubmit(this)">
				<label>Title*:</label>
				<input type="radio" name="title" id="miss" value="Miss" required="required" />Miss
				<input type="radio" name="title" id="mr" value="Mr" required="required" />Mr.
				<input type="radio" name="title" id="mrs" value="Mrs" required="required" />Mrs.
				<br><br>

				<label for="firstName">First Name*:</label>
				<input type="text" name="firstName" id="firstName" placeholder="First Name" onblur="validate(this, 1)"
					required />
				<br><br>

				<div id="ErrorFName" style="display: none;color: red;">
					Only Text value is allowed.
				</div>

				<label for="lastName">Last Name*:</label>
				<input type="text" name="lastName" id="lastName" placeholder="Last Name" onblur="validate(this, 2)"
					required />
				<br><br>

				<div id="ErrorLName" style="display: none;color: red;">
					Only Text value is allowed.
				</div>


				<label for="emailId">Email Id*:</label>
				<input type="text" name="emailId" id="emailId" placeholder="yourname@domain.com" required
					onblur="validate(this,3)" />
				<br><br>

				<div id="ErrorEmail" style="display: none;color: red;">
					Please Enter valid Email address.
				</div>


				<label for="phoneNumber">Phone Number*:</label>
				<input type="text" name="phoneNumber" id="phoneNumber" placeholder="xxx-xxx-xxxx" required
					onblur="validate(this,4)" />
				<br><br>

				<div id="ErrorPhn" style="display: none;color: red;">
					Only Numbers are allowed.
				</div>

				<label for="zipcode">ZipCode*:</label>
				<input type="text" name="zipcode" id="zipcode" placeholder="xxxxxx" onblur="validate(this,5)"
					required />
				<br><br>

				<div id="ErrorZip" style="display: none;color: red;">
					Only Numbers are allowed..
				</div>

				<label for="zipcode">How did you hear*:</label>
				<input type='checkbox' name="source" value="facebook" /> Facebook
				<input type='checkbox' name="source" value="google" /> Google
				<input type='checkbox' name="source" value="yelp" /> Yelp
				<br><br>

				<label for="comment">Comments*:</label>
				<textarea name="text" id="comments" placeholder="Your comments" rows="5" cols="25" required></textarea>
				<br><br>

				<label for="select">Select a Day:</label>
				<select id="beverages" name="beverages" onchange="getbox()">
					<option value="select">-- Select--</option>
					<option value="day1">Monday</option>
					<option value="day2">Tuesday</option>
					<option value="day3">Wednesday</option>
					<option value="day4">Thursday</option>
					<option value="day5">Friday</option>
				</select>
				<br><br>

				<label for="checkbox"> </label>

				<div id="days">

					<div id="day1" style="display: none;">
						<input id="mon1" type="checkbox" name="selectlistcheckbox" value="First Day"
							onclick="isclicked(this)" />
						<label for="mon1">First Day</label>
						<br><br>
						<input id="txt1" type="text" placeholder="hello1" style="display: none;" />
					</div>

					<div id="day2" style="display: none;">
						<input id="tue2" type="checkbox" name="selectlistcheckbox" value="Second Day"
							onclick="isclicked(this)" />
						<label for="tue2">Second Day</label>
						<br><br>
						<input id="txt2" type="text" placeholder="hello2" style="display: none;" />
					</div>

					<div id="day3" style="display: none;">
						<input id="wed3" type="checkbox" name="selectlistcheckbox" value="Third Day"
							onclick="isclicked(this)" />
						<label for="wed31">Third Day</label>
						<br><br>
						<input id="txt3" type="text" placeholder="hello3" style="display: none;" />
					</div>

					<div id="day4" style="display: none;">
						<input id="thu4" type="checkbox" name="selectlistcheckbox" value="Fourth Day"
							onclick="isclicked(this)" />
						<label for="thu4">Fourth Day</label>
						<br><br>
						<input id="txt4" type="text" placeholder="hello4" style="display: none;" />
					</div>

					<div id="day5" style="display: none;">
						<input id="fri5" type="checkbox" name="selectlistcheckbox" value="Fifth Day"
							onclick="isclicked(this)" />
						<label for="fri5">Fifth Day</label>
						<br><br>
						<input id="txt5" type="text" placeholder="hello5" style="display: none;" />
					</div>

				</div>
				<br><br>

				<input type="submit" />
				<input type="reset" />
				<br><br>

				<div id="table_div">

				</div>
			</form>
		</main>
	</div>

	<script>
		function validate(obj, no) {

			var RegexName = /[a-zA-z]+$/;
			var RegexEmail = /([\w]+)\@([\w]+)\.([a-zA-Z]+)$/;
			var RegexPhone = /^\d{3}-?\d{3}-\d{4}$/; //\d{3}$\-\d{3}$\-\d{4}$/;
			var RegexZip = /^\d{5}$/;

			switch (no) {

				case 1:
					if (!obj.value.trim().match(RegexName)) {
						obj.style.border = "2px solid red";
						document.getElementById('ErrorFName').style.display = "block";
						obj.value = "";
					}
					else {
						obj.style.border = "";
						document.getElementById('ErrorFName').style.display = "none";
					}
					break;

				case 2:
					if (!obj.value.trim().match(RegexName)) {
						obj.style.border = "2px solid red";
						document.getElementById('ErrorLName').style.display = "block";
						obj.value = "";
					}
					else {
						obj.style.border = "";
						document.getElementById('ErrorLName').style.display = "none";
					}
					break;

				case 3:
					if (!obj.value.trim().match(RegexEmail)) {
						obj.style.border = "2px solid red";
						document.getElementById('ErrorEmail').style.display = "block";
						obj.value = "";
					}
					else {
						obj.style.border = "";
						document.getElementById('ErrorEmail').style.display = "none";
					}
					break;

				case 4:
					if (!obj.value.trim().match(RegexPhone)) {
						obj.style.border = "2px solid red";
						document.getElementById('ErrorPhn').style.display = "block";
						obj.value = "";
					}
					else {
						obj.style.border = "";
						document.getElementById('ErrorPhn').style.display = "none";
					}
					break;

				case 5:
					if (!obj.value.trim().match(RegexZip)) {
						obj.style.border = "2px solid red";
						document.getElementById('ErrorZip').style.display = "block";
						obj.value = "";
					}
					else {
						obj.style.border = "";
						document.getElementById('ErrorZip').style.display = "none";
					}
					break;

			}
		}

		function getbox() {

			divNone();
			var v = document.getElementById("beverages").value;
			element = document.getElementById(v);
			element.style.display = "block";
		}

		function isclicked(chck) {

			if (chck.checked == true) {
				var parent = chck.parentNode.id;

				if (parent == "day1") {
					document.getElementById("txt1").style.display = "block";
					document.getElementById("txt1").required = true;

				}
				else if (parent == "day2") {
					document.getElementById("txt2").style.display = "block";
					document.getElementById("txt2").required = true;
				}
				else if (parent == "day3") {
					document.getElementById("txt3").style.display = "block";
					document.getElementById("txt3").required = true;
				}
				else if (parent == "day4") {
					document.getElementById("txt4").style.display = "block";
					document.getElementById("txt4").required = true;
				}
				else if (parent == "day5") {
					document.getElementById("txt5").style.display = "block";
					document.getElementById("txt5").required = true;
				}
			}
			else {
				var parent = chck.parentNode.id;

				if (parent == "day1") {
					document.getElementById("txt1").style.display = "none";
				}
				else if (parent == "day2") {
					document.getElementById("txt2").style.display = "none";
				}
				else if (parent == "day3") {
					document.getElementById("txt3").style.display = "none";
				}
				else if (parent == "day4") {
					document.getElementById("txt4").style.display = "none";
				}
				else if (parent == "day5") {
					document.getElementById("txt5").style.display = "none";
				}
				else {
					document.getElementById("txt1").style.display = "none";
				}
			}

		}

		function divNone() {

			var element1 = document.getElementById('day1');
			element1.style.display = "none";

			var element2 = document.getElementById('day2');
			element2.style.display = "none";

			var element3 = document.getElementById('day3');
			element3.style.display = "none";

			var element4 = document.getElementById('day4');
			element4.style.display = "none";

			var element5 = document.getElementById('day5');
			element5.style.display = "none";

		}

		function checksubmit(data) {

			//console.log("inside submit");
			var v1 = document.getElementById("beverages").value;
			var radio = document.querySelector('input[type="radio"]:checked').value;
			var fname = document.getElementById('firstName').value;
			var lname = document.getElementById('lastName').value;
			var mail = document.getElementById('emailId').value;
			var phn = document.getElementById('phoneNumber').value;
			var zip = document.getElementById('zipcode').value;
			var how = document.querySelector('input[type="checkbox"][name="source"]:checked').value;
			var cmts = document.getElementById('comments').value;
			var day_checkbox = document.querySelector('input[type="checkbox"][name="selectlistcheckbox"]:checked').value;
			var txtbox_value;
			var week_day;

			if (v1 == "day1") {
				week_day = "Monday";
			}
			else if (v1 == "day2") {
				week_day = "Tuesday";
			}
			else if (v1 == "day3") {
				week_day = "Wednesday";
			}
			else if (v1 == "day4") {
				week_day = "Thursday";
			}
			else if (v1 == "day5") {
				week_day = "Friday";
			}

			console.log(week_day);

			if (day_checkbox == 'First Day') {
				txtbox_value = document.getElementById('txt1').value;
			}
			else if (day_checkbox == 'Second Day') {
				txtbox_value = document.getElementById('txt2').value;
			}
			else if (day_checkbox == 'Third Day') {
				txtbox_value = document.getElementById('txt3').value;
			}
			else if (day_checkbox == 'Fourth Day') {
				txtbox_value = document.getElementById('txt4').value;
			}
			else if (day_checkbox == 'Fifth Day') {
				txtbox_value = document.getElementById('txt5').value;
			}

			createTable(radio, fname, lname, mail, phn, zip, how, cmts, week_day, day_checkbox, txtbox_value);

			return false;
		}

		function createTable(radio, fname, lname, mail, phn, zip, how, cmts, week_day, day_checkbox, txtbox_value) {
			var table = document.createElement("table");
			createHead(table);

			var div = document.getElementById('table_div');
			div.appendChild(table);
			table.setAttribute("border", "1");

			populate(table, radio, fname, lname, mail, phn, zip, how, cmts, week_day, day_checkbox, txtbox_value);
			//table.setAttribute("class", "table_data");

		}

		function createHead(table) {
			var headers = ["Title", "First Name", "Last Name", "Mail", "Phone", "Zip", "Source", "Comments", "Selected_day", "Day", "Description"];

			var th1 = document.createElement("TR");

			for (let i = 0; i < headers.length; i++) {
				var th = document.createElement("Th");
				var c1 = document.createTextNode(headers[i]);
				th.appendChild(c1);
				th1.appendChild(th);
			}
			table.appendChild(th1);
		}

		function populate(table, radio, fname, lname, mail, phn, zip, how, cmts, week_day, day_checkbox, txtbox_value) {

			var data_values = [radio, fname, lname, mail, phn, zip, how, cmts, week_day, day_checkbox, txtbox_value];

			var tr = document.createElement("TR");

			for (let i = 0; i < data_values.length; i++) {
				var td = document.createElement("TD");
				var c2 = document.createTextNode(data_values[i]);
				td.appendChild(c2);
				tr.appendChild(td);
				//td.setAttribute("colspan", "0");
			}
			table.appendChild(tr);
		}

	</script>

</body>

</html>